webpackJsonp([1],{"+l09":function(t,s){},"0BdG":function(t,s){},"3bnZ":function(t,s){},NHnr:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var n=e("7+uW"),i=e("Dd8w"),a=e.n(i),o=e("NYxO"),r={data:function(){return{activeIndex:"1",disabled:!1}},methods:a()({},Object(o.b)(["randomizeStocks","updateTransition","updateBG","setData"]),{endDay:function(){this.randomizeStocks()},handleSelect:function(t){var s=this;this.activeIndex===t||"1"!==t&&"2"!==t&&"3"!==t||(this.updateTransition(),this.disabled=!0,setTimeout(function(){s.updateTransition(),s.disabled=!1},1e3),this.activeIndex=t),"1"!==this.activeIndex?this.updateBG(!0):this.updateBG(!1)},saveData:function(){var t={funds:this.funds,stockPortfolio:this.stockPortfolio,stocks:this.stocks};this.$http.put("https://vuex-stock-trader-f9942.firebaseio.com/data.json",t).then(function(t){200===t.status?console.log("儲存成功",t.statusText):console.log("儲存失敗",t.statusText)})},loadData:function(){this.setData()}}),computed:a()({},Object(o.c)(["funds","stockPortfolio","stocks"]))},c={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"header"},[e("el-menu",{staticClass:"el-menu",class:{disabled:t.disabled},attrs:{"default-active":t.activeIndex,mode:"horizontal","background-color":"#005874","text-color":"#e6e6d4","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[e("el-menu-item",{staticClass:"brand",attrs:{index:"1"}},[e("router-link",{attrs:{to:"/"}},[t._v("Stock Trader")])],1),t._v(" "),e("el-menu-item",{attrs:{index:"2"}},[e("router-link",{attrs:{to:"/portfolio"}},[t._v("投資組合")])],1),t._v(" "),e("el-menu-item",{attrs:{index:"3"}},[e("router-link",{attrs:{to:"/stocks"}},[t._v("股市")])],1),t._v(" "),e("el-menu-item",{staticClass:"right",attrs:{index:"4"}},[e("span",{staticClass:"label"},[t._v("總資產："+t._s(t._f("currency")(t.funds)))])]),t._v(" "),e("el-submenu",{staticClass:"right",attrs:{index:"5"}},[e("template",{slot:"title"},[e("a",{attrs:{href:"#"}},[t._v("Save & Load")])]),t._v(" "),e("el-menu-item",{attrs:{index:"5-1"},on:{click:t.saveData}},[t._v("Save Data")]),t._v(" "),e("el-menu-item",{attrs:{index:"5-2"},on:{click:t.loadData}},[t._v("Load Data")])],2),t._v(" "),e("el-menu-item",{staticClass:"right",attrs:{index:"6"},on:{click:t.endDay}},[e("a",{attrs:{href:"#"}},[t._v("End Day")])])],1)],1)},staticRenderFns:[]};var u=e("VU/8")(r,c,!1,function(t){e("0BdG")},"data-v-5fec3c2b",null).exports,l={name:"App",computed:a()({},Object(o.c)(["transition","bgImage"])),components:{Header:u},created:function(){this.$store.dispatch("initStocks")}},d={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{class:{bgImage:t.bgImage},attrs:{id:"app"}},[e("Header"),t._v(" "),e("div",{staticClass:"side-bg",class:{active:t.transition}},[e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"}),t._v(" "),e("div",{staticClass:"side-bg-item"})]),t._v(" "),e("div",{staticClass:"container"},[e("transition",{attrs:{name:"side",mode:"out-in"}},[e("router-view")],1)],1)],1)},staticRenderFns:[]};var f=e("VU/8")(l,d,!1,function(t){e("+l09")},null,null).exports,m=e("/ocq"),h=e("WaEV"),v=e.n(h),j={mounted:function(){var t=document.getElementsByClassName("chart")[0],s=document.getElementById("myChart"),e=s.getContext("2d"),n=s.width=t.clientWidth;s.height=t.clientHeight;var i=e.createLinearGradient(0,0,0,n);i.addColorStop(0,"rgba(172, 92, 250, 0.9)"),i.addColorStop(.5,"rgba(172, 92, 250, 0.7)"),i.addColorStop(1,"rgba(172, 92, 250, 0.7)");var a=e.createLinearGradient(0,0,0,n);a.addColorStop(0,"rgba(52, 225, 202, 0.9)"),a.addColorStop(.5,"rgba(52, 225, 202, 0.7)"),a.addColorStop(1,"rgba(52, 225, 202, 0.7)"),new v.a(e,{type:"line",data:{labels:["1","2","3","4","5","6","7","8"],datasets:[{label:"FIRST PRODUCTS",borderWidth:"0",backgroundColor:i,data:[0,20,10,45,20,35,20,10]},{label:"SECOND PRODUCTS",borderWidth:"0",backgroundColor:a,data:[2,10,10,20,20,15,10,15]}]},options:{layout:{padding:{left:30,right:30,top:30,bottom:30}},responsive:!0,tooltips:{mode:"index"},hover:{mode:"index"},scales:{xAxes:[{scaleLabel:{display:!0,labelString:"Days"}}],yAxes:[{stacked:!0,scaleLabel:{display:!0,labelString:"Value"}}]}}}),window.onresize=function(){n=s.width=t.clientWidth,s.height=t.clientHeight}}},p={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"chart"},[s("div",{staticClass:"title"},[this._v("STOCKS SALES")]),this._v(" "),s("canvas",{attrs:{id:"myChart"}})])}]};var k={computed:{funds:function(){return this.$store.getters.funds}},components:{Chart:e("VU/8")(j,p,!1,function(t){e("3bnZ")},"data-v-6f8a6401",null).exports}},b={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[this._m(0),this._v(" "),s("chart")],1)},staticRenderFns:[function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"home-info"},[s("h1",{staticClass:"title"},[this._v("股票交易或查看您目前持有的股票")])])}]};var g=e("VU/8")(k,b,!1,function(t){e("NUZk")},"data-v-2f8ea6b7",null).exports,_={props:["stock"],data:function(){return{quantity:this.stock.quantity}},methods:a()({},Object(o.b)({sell:"sellStock"}),{sellStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:parseInt(this.quantity)};this.sell(t),this.quantity=0}}),computed:{insufficientQuantity:function(){return this.quantity>this.stock.quantity}}},y={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-col",{attrs:{xs:12,sm:6}},[e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",[t._v(t._s(t.stock.name))]),t._v(" "),e("span",[t._v(t._s(t._f("currency")(t.stock.price)))]),t._v(" "),e("span",{staticClass:"right"},[t._v("數量"+t._s(t.stock.quantity))])]),t._v(" "),e("el-input",{class:{warning:t.insufficientQuantity},attrs:{type:"number",placeholder:"購買數量"},model:{value:t.quantity,callback:function(s){t.quantity=s},expression:"quantity"}}),t._v(" "),e("el-button",{attrs:{disabled:t.insufficientQuantity||t.quantity<=0},on:{click:t.sellStock}},[t._v("\n        "+t._s(t.insufficientQuantity?"超出":"賣出")+"\n      ")])],1)],1)],1)},staticRenderFns:[]},S=e("VU/8")(_,y,!1,null,null,null).exports,C={computed:a()({},Object(o.c)({stocks:"stockPortfolio"})),components:{Stock:S}},x={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("el-row",{staticClass:"mt-50",attrs:{gutter:10}},[this.stocks.length<=0?s("div",{staticClass:"label"},[this._v("目前沒有選購任何一張股票")]):this._e(),this._v(" "),this._l(this.stocks,function(t){return s("stock",{key:t.id,attrs:{stock:t}})})],2)],1)},staticRenderFns:[]},q=e("VU/8")(C,x,!1,null,null,null).exports,E={props:["stock"],data:function(){return{quantity:0}},methods:{buyStock:function(){var t={stockId:this.stock.id,stockPrice:this.stock.price,quantity:parseInt(this.quantity)};console.log(t),this.$store.dispatch("buyStock",t),this.quantity=0}},computed:{insufficientFunds:function(){return this.quantity*this.stock.price>this.$store.getters.funds}}},z={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("el-col",{attrs:{xs:24,md:6}},[e("el-card",[e("div",{attrs:{slot:"header"},slot:"header"},[e("span",{staticClass:"title"},[t._v(t._s(t.stock.name))]),t._v(" "),e("span",[t._v(t._s(t._f("currency")(t.stock.price)))])]),t._v(" "),e("el-input",{class:{warning:t.insufficientFunds},attrs:{type:"number",placeholder:"購買數量"},model:{value:t.quantity,callback:function(s){t.quantity=s},expression:"quantity"}}),t._v(" "),e("el-button",{attrs:{disabled:t.insufficientFunds||t.quantity<=0},on:{click:t.buyStock}},[t._v(" "+t._s(t.insufficientFunds?"餘額不足":"購買")+"\n      ")])],1)],1)],1)},staticRenderFns:[]},T={computed:{stocks:function(){return this.$store.getters.stocks}},components:{Stock:e("VU/8")(E,z,!1,null,null,null).exports}},O={render:function(){var t=this.$createElement,s=this._self._c||t;return s("div",[s("el-row",{staticClass:"mt-50",attrs:{gutter:10}},this._l(this.stocks,function(t){return s("stock",{key:t.id,attrs:{stock:t}})}))],1)},staticRenderFns:[]},w=e("VU/8")(T,O,!1,null,null,null).exports;n.default.use(m.a);var P=new m.a({routes:[{path:"/",component:g},{path:"/portfolio",component:q},{path:"/stocks",component:w}]}),F=[{id:1,name:"台積電",price:135},{id:2,name:"Google",price:200},{id:3,name:"Apple",price:250},{id:4,name:"Twitter",price:8}],R={state:{stocks:[]},getters:{stocks:function(t){return t.stocks}},mutations:{SET_STOCKS:function(t,s){t.stocks=s},RND_STOCKS:function(t){t.stocks.forEach(function(t){t.price=Math.round(t.price*(1+(Math.floor(21*Math.random())-10)/100))})}},actions:{buyStock:function(t,s){(0,t.commit)("BUY_STOCK",s)},initStocks:function(t){(0,t.commit)("SET_STOCKS",F)},randomizeStocks:function(t){(0,t.commit)("RND_STOCKS")}}},D={state:{funds:1e4,stocks:[]},mutations:{BUY_STOCK:function(t,s){var e=s.stockId,n=s.quantity,i=s.stockPrice,a=t.stocks.find(function(t){return t.id===e});a?a.quantity+=n:t.stocks.push({id:e,quantity:n}),t.funds-=n*i},SELL_STOCK:function(t,s){var e=s.stockId,n=s.quantity,i=s.stockPrice,a=t.stocks.find(function(t){return t.id===e});a.quantity>n?a.quantity-=n:t.stocks.splice(t.stocks.indexOf(a),1),t.funds+=n*i},SET_PORTFOLIO:function(t,s){t.funds=s.funds,t.stocks=s.stockPortfolio?s.stockPortfolio:[]}},actions:{sellStock:function(t,s){(0,t.commit)("SELL_STOCK",s)}},getters:{stockPortfolio:function(t,s){return t.stocks.map(function(t){var e=s.stocks.find(function(s){return s.id===t.id});return{id:t.id,quantity:t.quantity,name:e.name,price:e.price}})},funds:function(t){return t.funds}}},I=e("mtWM"),U=e.n(I);n.default.use(o.a);var L=new o.a.Store({state:{transition:!1,bgImage:!1},mutations:{UPDATE_TRANSLATE:function(t){t.transition=!t.transition},UPDATE_BG:function(t,s){t.bgImage=s}},actions:{updateTransition:function(t){(0,t.commit)("UPDATE_TRANSLATE")},updateBG:function(t,s){(0,t.commit)("UPDATE_BG",s)},setData:function(t){var s=t.commit;U.a.get("https://vuex-stock-trader-f9942.firebaseio.com/data.json").then(function(t){if(t.data){var e=t.data.stocks,n=t.data.funds,i={stockPortfolio:t.data.stockPortfolio,funds:n};s("SET_STOCKS",e),s("SET_PORTFOLIO",i)}})}},getters:{transition:function(t){return t.transition},bgImage:function(t){return t.bgImage}},modules:{stocks:R,portfolio:D}}),N=e("Rf8U"),B=e.n(N),V=e("zL8q"),H=e.n(V);e("tvR6");n.default.config.productionTip=!1,n.default.prototype.$ELEMENT={size:"small",zIndex:3e3},n.default.use(H.a),n.default.use(B.a,U.a),n.default.filter("currency",function(t){return"$"+t.toLocaleString()}),new n.default({el:"#app",router:P,store:L,components:{App:f},template:"<App/>"})},NUZk:function(t,s){},tvR6:function(t,s){},uslO:function(t,s,e){var n={"./af":"3CJN","./af.js":"3CJN","./ar":"3MVc","./ar-dz":"tkWw","./ar-dz.js":"tkWw","./ar-kw":"j8cJ","./ar-kw.js":"j8cJ","./ar-ly":"wPpW","./ar-ly.js":"wPpW","./ar-ma":"dURR","./ar-ma.js":"dURR","./ar-sa":"7OnE","./ar-sa.js":"7OnE","./ar-tn":"BEem","./ar-tn.js":"BEem","./ar.js":"3MVc","./az":"eHwN","./az.js":"eHwN","./be":"3hfc","./be.js":"3hfc","./bg":"lOED","./bg.js":"lOED","./bm":"hng5","./bm.js":"hng5","./bn":"aM0x","./bn.js":"aM0x","./bo":"w2Hs","./bo.js":"w2Hs","./br":"OSsP","./br.js":"OSsP","./bs":"aqvp","./bs.js":"aqvp","./ca":"wIgY","./ca.js":"wIgY","./cs":"ssxj","./cs.js":"ssxj","./cv":"N3vo","./cv.js":"N3vo","./cy":"ZFGz","./cy.js":"ZFGz","./da":"YBA/","./da.js":"YBA/","./de":"DOkx","./de-at":"8v14","./de-at.js":"8v14","./de-ch":"Frex","./de-ch.js":"Frex","./de.js":"DOkx","./dv":"rIuo","./dv.js":"rIuo","./el":"CFqe","./el.js":"CFqe","./en-au":"Sjoy","./en-au.js":"Sjoy","./en-ca":"Tqun","./en-ca.js":"Tqun","./en-gb":"hPuz","./en-gb.js":"hPuz","./en-ie":"ALEw","./en-ie.js":"ALEw","./en-il":"QZk1","./en-il.js":"QZk1","./en-nz":"dyB6","./en-nz.js":"dyB6","./eo":"Nd3h","./eo.js":"Nd3h","./es":"LT9G","./es-do":"7MHZ","./es-do.js":"7MHZ","./es-us":"INcR","./es-us.js":"INcR","./es.js":"LT9G","./et":"XlWM","./et.js":"XlWM","./eu":"sqLM","./eu.js":"sqLM","./fa":"2pmY","./fa.js":"2pmY","./fi":"nS2h","./fi.js":"nS2h","./fo":"OVPi","./fo.js":"OVPi","./fr":"tzHd","./fr-ca":"bXQP","./fr-ca.js":"bXQP","./fr-ch":"VK9h","./fr-ch.js":"VK9h","./fr.js":"tzHd","./fy":"g7KF","./fy.js":"g7KF","./gd":"nLOz","./gd.js":"nLOz","./gl":"FuaP","./gl.js":"FuaP","./gom-latn":"+27R","./gom-latn.js":"+27R","./gu":"rtsW","./gu.js":"rtsW","./he":"Nzt2","./he.js":"Nzt2","./hi":"ETHv","./hi.js":"ETHv","./hr":"V4qH","./hr.js":"V4qH","./hu":"xne+","./hu.js":"xne+","./hy-am":"GrS7","./hy-am.js":"GrS7","./id":"yRTJ","./id.js":"yRTJ","./is":"upln","./is.js":"upln","./it":"FKXc","./it.js":"FKXc","./ja":"ORgI","./ja.js":"ORgI","./jv":"JwiF","./jv.js":"JwiF","./ka":"RnJI","./ka.js":"RnJI","./kk":"j+vx","./kk.js":"j+vx","./km":"5j66","./km.js":"5j66","./kn":"gEQe","./kn.js":"gEQe","./ko":"eBB/","./ko.js":"eBB/","./ky":"6cf8","./ky.js":"6cf8","./lb":"z3hR","./lb.js":"z3hR","./lo":"nE8X","./lo.js":"nE8X","./lt":"/6P1","./lt.js":"/6P1","./lv":"jxEH","./lv.js":"jxEH","./me":"svD2","./me.js":"svD2","./mi":"gEU3","./mi.js":"gEU3","./mk":"Ab7C","./mk.js":"Ab7C","./ml":"oo1B","./ml.js":"oo1B","./mn":"CqHt","./mn.js":"CqHt","./mr":"5vPg","./mr.js":"5vPg","./ms":"ooba","./ms-my":"G++c","./ms-my.js":"G++c","./ms.js":"ooba","./mt":"oCzW","./mt.js":"oCzW","./my":"F+2e","./my.js":"F+2e","./nb":"FlzV","./nb.js":"FlzV","./ne":"/mhn","./ne.js":"/mhn","./nl":"3K28","./nl-be":"Bp2f","./nl-be.js":"Bp2f","./nl.js":"3K28","./nn":"C7av","./nn.js":"C7av","./pa-in":"pfs9","./pa-in.js":"pfs9","./pl":"7LV+","./pl.js":"7LV+","./pt":"ZoSI","./pt-br":"AoDM","./pt-br.js":"AoDM","./pt.js":"ZoSI","./ro":"wT5f","./ro.js":"wT5f","./ru":"ulq9","./ru.js":"ulq9","./sd":"fW1y","./sd.js":"fW1y","./se":"5Omq","./se.js":"5Omq","./si":"Lgqo","./si.js":"Lgqo","./sk":"OUMt","./sk.js":"OUMt","./sl":"2s1U","./sl.js":"2s1U","./sq":"V0td","./sq.js":"V0td","./sr":"f4W3","./sr-cyrl":"c1x4","./sr-cyrl.js":"c1x4","./sr.js":"f4W3","./ss":"7Q8x","./ss.js":"7Q8x","./sv":"Fpqq","./sv.js":"Fpqq","./sw":"DSXN","./sw.js":"DSXN","./ta":"+7/x","./ta.js":"+7/x","./te":"Nlnz","./te.js":"Nlnz","./tet":"gUgh","./tet.js":"gUgh","./tg":"5SNd","./tg.js":"5SNd","./th":"XzD+","./th.js":"XzD+","./tl-ph":"3LKG","./tl-ph.js":"3LKG","./tlh":"m7yE","./tlh.js":"m7yE","./tr":"k+5o","./tr.js":"k+5o","./tzl":"iNtv","./tzl.js":"iNtv","./tzm":"FRPF","./tzm-latn":"krPU","./tzm-latn.js":"krPU","./tzm.js":"FRPF","./ug-cn":"To0v","./ug-cn.js":"To0v","./uk":"ntHu","./uk.js":"ntHu","./ur":"uSe8","./ur.js":"uSe8","./uz":"XU1s","./uz-latn":"/bsm","./uz-latn.js":"/bsm","./uz.js":"XU1s","./vi":"0X8Q","./vi.js":"0X8Q","./x-pseudo":"e/KL","./x-pseudo.js":"e/KL","./yo":"YXlc","./yo.js":"YXlc","./zh-cn":"Vz2w","./zh-cn.js":"Vz2w","./zh-hk":"ZUyn","./zh-hk.js":"ZUyn","./zh-tw":"BbgG","./zh-tw.js":"BbgG"};function i(t){return e(a(t))}function a(t){var s=n[t];if(!(s+1))throw new Error("Cannot find module '"+t+"'.");return s}i.keys=function(){return Object.keys(n)},i.resolve=a,t.exports=i,i.id="uslO"}},["NHnr"]);
//# sourceMappingURL=app.1d68932ec7b13ac3f3e6.js.map